function Counter(n){"use strict";var i,t=this,e=10,s=n.hasOwnProperty("date")?null:n,o=["days","hours","minutes","seconds","millisecs"],l={date:null,days:null,hours:null,minutes:null,seconds:null,millisecs:null,template:['<div class="cnt_container">',"  <% for( var i = 0; i < times.length ) { %>",'    <div class="cnt_<%= times[i] %>">','      <div class="cnt_number"></div>','      <div class="cnt_label"></div>',"    </div>","  <% } %>","</div>"].join("")},r=function(n,i){for(;n.toString().length<i;)n="0"+n;return n.toString()},a=function(n,i){var t;if(i.length)for(t=0;t<i.length;t++)i[t].innerHTML=n;else i.innerHTML=n},c=function(){window.setTimeout(function(){var n,i=t.dateDiff();for(c(),n=0;n<o.length;n++)t.options[o[n]]&&a(i[o[n]],t.options[o[n]])},e)},u=function(n,i){var t=new Function("obj","p=[]; with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"')} return p.join('')");return i?t(i):t};t.options=s?{}:n;for(i in l)l.hasOwnProperty(i)&&(t.options.hasOwnProperty(i)||(t.options[i]=l[i]));t.init=function(n){return t.options.date=n||t.options.date,s&&s.appendChild(t.build()),c(),t},t.build=function(){var n,i,e=u(t.options.template,{times:o}),s=new RegExp("(^||\\s)\\S*?("+o.join("||")+")(\\s||$)"),l=document.createElement("div");for(l.innerHTML=e,e=l.childNodes,i=0;i<e.length;i++)n=e[i].className.match(s),n&&(t.options[n[2]]=e[i]);return e},t.dateDiff=function(){var n,i={millisecs:Math.abs(Date.parse(t.options.date)-Date.now())},s={days:864e5,hours:36e5,minutes:6e4,seconds:1e3},o=10;for(n in s)s.hasOwnProperty(n)&&t.options[n]&&(i[n]=r(Math.floor(i.millisecs/s[n]),2),i.millisecs=i.millisecs%s[n],o=(s[n]-1).toString().length,e=s[n]);return t.options.millisecs&&(i.millisecs=r(i.millisecs,o),e=10),i}}